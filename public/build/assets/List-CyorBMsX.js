import{d as x,q as k,s as $,o as d,g,b as e,t as h,F as v,c as p,w as l,a as n,u as c,k as b,e as m,m as T,p as D,h as B,x as M,Z as j,j as z,y as V,z as E}from"./app-BgzXHyT0.js";import{t as _,_ as S}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BbaMWREh.js";import{_ as A,T as C,a as N,b as y,c as L,d as F,e as H}from"./TableActions.vue_vue_type_script_setup_true_lang-Bl6sZzUh.js";import{G as I}from"./GradientButton-DDWkM4vt.js";import{u as q}from"./useContestantFilter-ClkMye5c.js";import"./ApplicationLogo-CWuFB-ws.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},R={class:"relative p-4 w-full max-w-md max-h-full"},U={class:"relative bg-white rounded-lg shadow"},Z={class:"p-4 md:p-5 text-center"},O={class:"mb-5 text-lg font-normal text-gray-500"},P=x({__name:"ContestantDeletionModal",props:{contestant:{}},emits:["close"],setup(u,{emit:r}){const a=u,t=r,s=()=>{t("close"),_.addToast(`Contestant ${a.contestant.username} removed`)},o=()=>{t("close")},f=w=>{w.key==="Escape"&&o()};return k(()=>document.addEventListener("keydown",f)),$(()=>document.removeEventListener("keydown",f)),(w,i)=>(d(),g(v,null,[e("div",G,[e("div",R,[e("div",U,[e("button",{onClick:o,type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"popup-modal"},i[0]||(i[0]=[e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)])),e("div",Z,[i[1]||(i[1]=e("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),e("h3",O," Are you sure you want to delete "+h(w.contestant.username)+"? ",1),e("button",{onClick:s,type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, delete "),e("button",{onClick:o,type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"}," No, cancel ")])])])]),i[2]||(i[2]=e("div",{class:"bg-gray-900/50 fixed inset-0 z-40"},null,-1))],64))}}),Y={class:"py-1 text-sm text-gray-700"},J={class:"py-1"},K=x({__name:"ContestantActionsCell",props:{contestant:{}},emits:["delete"],setup(u,{emit:r}){const a=t=>{navigator.clipboard.writeText(t),_.addToast("Copied Discord ID to clipboard")};return(t,s)=>(d(),p(C,{class:"flex justify-end"},{default:l(()=>[n(A,null,{default:l(()=>[e("ul",Y,[e("li",null,[n(c(b),{href:t.route("contestants.edit",t.contestant.id),class:"block py-2 px-4 hover:bg-gray-100"},{default:l(()=>s[2]||(s[2]=[m(" Edit ")])),_:1},8,["href"])]),e("li",null,[e("button",{onClick:s[0]||(s[0]=o=>a(t.contestant.discord_id.toString())),class:"block py-2 px-4 w-full text-left hover:bg-gray-100"}," Copy Discord ID ")])]),e("div",J,[e("button",{onClick:s[1]||(s[1]=o=>t.$emit("delete",t.contestant)),class:"block py-2 px-4 w-full text-left text-red-500 hover:bg-gray-100"}," Delete ")])]),_:1})]),_:1}))}}),Q={class:"overflow-x-auto"},W=x({__name:"ContestantTable",props:{contestants:{}},setup(u){const r=T(null);return(a,t)=>(d(),g(v,null,[e("div",Q,[n(H,null,{header:l(()=>[n(N,null,{default:l(()=>[n(y,null,{default:l(()=>t[1]||(t[1]=[m("Contestant")])),_:1}),n(y,null,{default:l(()=>t[2]||(t[2]=[m("Submissions")])),_:1}),n(y,null,{default:l(()=>t[3]||(t[3]=[e("span",{class:"sr-only"},"Actions",-1)])),_:1})]),_:1})]),default:l(()=>[(d(!0),g(v,null,D(a.contestants,s=>(d(),p(F,{key:s.id,class:"border-b border-gray-200"},{default:l(()=>[n(L,{contestant:s},null,8,["contestant"]),n(C,null,{default:l(()=>[m(h(s.score),1)]),_:2},1024),n(K,{contestant:s,onDelete:o=>r.value=s},null,8,["contestant","onDelete"])]),_:2},1024))),128))]),_:1})]),(d(),p(M,{to:"body"},[r.value?(d(),p(P,{key:0,contestant:r.value,onClose:t[0]||(t[0]=s=>r.value=null)},null,8,["contestant"])):B("",!0)]))],64))}}),X={class:"py-12"},ee={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},te={class:"bg-white relative shadow-md sm:rounded-lg overflow-hidden"},se={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},oe={class:"w-full md:w-1/2"},le={class:"flex items-center"},ne={class:"relative w-full"},re={class:"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"},ae={class:"bg-white relative shadow-md sm:rounded-lg overflow-hidden"},ge=x({__name:"List",props:{contestants:{}},setup(u){const r=u,{filter:a,filteredContestants:t}=q("",r.contestants);return(s,o)=>(d(),g(v,null,[n(c(j),{title:"Profile"}),n(S,null,{header:l(()=>o[1]||(o[1]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Contestants ",-1)])),default:l(()=>[e("div",X,[e("div",ee,[e("section",te,[e("div",se,[e("div",oe,[e("form",le,[o[3]||(o[3]=e("label",{for:"simple-search",class:"sr-only"},"Search",-1)),e("div",ne,[o[2]||(o[2]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),z(e("input",{"onUpdate:modelValue":o[0]||(o[0]=f=>E(a)?a.value=f:null),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2",placeholder:"Search",required:""},null,512),[[V,c(a)]])])])]),e("div",re,[n(c(b),{href:s.route("contestants.create")},{default:l(()=>[n(I,null,{default:l(()=>o[4]||(o[4]=[e("svg",{class:"h-3.5 w-3.5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})],-1),m(" Add Contestant ")])),_:1})]),_:1},8,["href"])])])]),e("section",ae,[n(W,{contestants:c(t)},null,8,["contestants"])])])])]),_:1})],64))}});export{ge as default};
