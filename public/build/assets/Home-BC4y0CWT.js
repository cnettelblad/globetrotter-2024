import{o as d,g as m,b as e,d as S,t as v,a as p,w as L,e as j,n as b,u as _,i as V,k as g,h as H,j as N,B as z,F as C,q as E,c as M,l as D,D as F,p as O,E as J,G as T,m as Z}from"./app-l4YdmmWh.js";import{E as A}from"./Emoji-BG48ZhPQ.js";import{_ as K}from"./TextInput.vue_vue_type_script_setup_true_lang-CVXGXi5v.js";import{A as U}from"./ApplicationLogo-DfUzmlr8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function q(c,s){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function P(c,s){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function R(c,s){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function W(c,s){return d(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const X={class:"flex items-center justify-between py-4 pl-3 pr-4 text-sm relative group"},Q={class:"absolute text-gray-500 transform -translate-y-5 scale-75 top-2 z-10 origin-[0] bg-gray-50 px-2 peer-placeholder-shown:scale-100 start-1"},Y={class:"px-4 flex-shrink-0 flex justify-between w-full gap-2 max-w-full font-medium"},ee=S({__name:"SubmissionItem",props:{month:{},destination:{}},setup(c){return(s,t)=>(d(),m("li",X,[e("span",Q,v(s.month),1),e("div",Y,[e("p",null,[p(A,null,{default:L(()=>[j(v(s.destination?s.destination.emoji:"🏳️"),1)]),_:1})]),e("p",{class:b(["font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",{"text-gray-900":s.destination,"text-gray-400":!s.destination}])},v(s.destination?s.destination.name:"-"),3),e("p",{class:b(["invisible",{"group-hover:visible":s.destination}])},[p(_(R),{class:"h-5 w-5 text-green-800 inline-block"})],2)])]))}}),se={class:"relative bg-white shadow overflow-hidden sm:rounded-lg"},te={class:"flex flex-row items-center px-4 py-5 sm:px-6 relative"},oe=["src"],ne={class:"px-4 py-5 sm:px-6 overflow-hidden"},ae={class:"text-lg font-medium leading-6 truncate text-gray-900"},le={key:0,class:"mt-1 max-w-2xl text-sm text-gray-500 truncate"},re={class:"absolute top-1 right-2"},ie={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 bg-sky-900 text-gray-100"},de={class:"border-t border-gray-200"},ce={class:"text-sm text-gray-900 sm:col-span-2"},ue={role:"list",class:"divide-y divide-gray-200 rounded-md border border-gray-200 mx-4"},me=S({__name:"SubmissionCard",props:{nickname:{},username:{},avatar:{},submissions:{}},emits:["showGallery"],setup(c,{emit:s}){const t=c,y=["January","February","March","April","May","June","July","August","September","October","November","December"],f=V(()=>y.map(h=>{var o;const i=(o=t.submissions)==null?void 0:o.find(n=>n.month===h);return{month:h,submission:i}})),u=g(!1),r=s;return(h,i)=>{var o;return d(),m("div",{class:b(["transition",u.value?"row-span-4":null])},[e("div",se,[e("div",te,[e("img",{src:t.avatar,alt:"",class:"h-16 w-16 my-4 rounded-full ring-1 ring-gray-900"},null,8,oe),e("div",ne,[e("h3",ae,v(t.nickname??t.username),1),t.nickname?(d(),m("p",le,v(t.username),1)):H("",!0)]),e("div",re,[e("span",ie,v(((o=t.submissions)==null?void 0:o.length)??0)+" / 12 ",1)])]),e("div",de,[e("dl",null,[e("div",{class:b(["bg-gray-50",u.value?"pb-4":null])},[e("button",{onClick:i[0]||(i[0]=n=>u.value=!u.value),class:"text-sm font-medium w-full py-5 text-gray-500 cursor-pointer"},v(u.value?"- Hide":"+ Show")+" Submissions ",1),e("dd",ce,[N(e("ul",ue,[(d(!0),m(C,null,E(f.value,n=>{var a;return d(),M(ee,{month:n.month,destination:(a=n.submission)==null?void 0:a.destination,key:n.month,class:b({"cursor-pointer":n.submission}),onClick:l=>n.submission?r("showGallery",n.submission):null},null,8,["month","destination","class","onClick"])}),128))],512),[[z,u.value]])])],2)])])])],2)}}}),he={class:"flex flex-col overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-screen max-h-screen"},ve={class:"grid grid-cols-6 w-full",id:"gallery-header"},pe={class:"col-start-2 col-span-4 text-white p-4 w-full text-center whitespace-nowrap overflow-hidden overflow-ellipsis"},fe={class:"text-4xl font-bold"},ge={class:"flex w-full h-full justify-between"},we={class:"w-full h-full grid place-items-center"},xe=["src","alt"],be={id:"gallery-footer",class:"w-full grid place-items-center grid-cols-6 md:grid-cols-12 gap-2 p-2 bg-gray-800/50"},_e=["src","alt","onClick","onMouseover"],ye=S({__name:"GalleryModal",props:{submissions:{},title:{},start:{}},emits:["close"],setup(c,{emit:s}){const t=c,y=s,f=()=>{y("close")},u=l=>{switch(l.key){case"Escape":f();break;case"ArrowLeft":h();break;case"ArrowRight":i();break}},r=g(t.start??0),h=()=>{r.value=(r.value-1+t.submissions.length)%t.submissions.length},i=()=>{r.value=(r.value+1)%t.submissions.length},o=l=>{if(!l)return;const w=new Image;w.src=l},n=g("100vh"),a=()=>{var k,$;const l=((k=document.getElementById("gallery-header"))==null?void 0:k.clientHeight)||0,w=(($=document.getElementById("gallery-footer"))==null?void 0:$.clientHeight)||0;n.value=`calc(100vh - ${l+w}px)`};return D(()=>{document.addEventListener("keydown",u),F(()=>a()),document.body.style.overflow="hidden"}),O(()=>{document.removeEventListener("keydown",u),document.body.style.overflow=""}),(l,w)=>{var k,$;return d(),m(C,null,[e("div",he,[e("div",ve,[e("div",pe,[e("h2",fe,v(l.title),1),e("span",null,[j(v((k=l.submissions[r.value].destination)==null?void 0:k.name)+" ",1),p(A,null,{default:L(()=>{var x;return[j(v((x=l.submissions[r.value].destination)==null?void 0:x.emoji),1)]}),_:1}),j(" in "+v(l.submissions[r.value].month),1)])]),e("button",{class:"text-gray-200 place-self-end self-start p4",onClick:f,"aria-label":"Close"},[p(_(W),{class:"w-16 h-16"})])]),e("div",ge,[e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:h},[p(_(q),{class:"h-12 w-12 max-w-[10vw]"})]),e("div",we,[e("img",{src:t.submissions[r.value].image,alt:($=t.submissions[r.value].destination)==null?void 0:$.name,class:"max-w-full p-4",style:J({maxHeight:n.value})},null,12,xe)]),e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:i},[p(_(P),{class:"h-12 w-12 max-w-[10vw]"})])]),e("div",be,[(d(!0),m(C,null,E(t.submissions,(x,B)=>{var I;return d(),m("div",{key:B,class:b(["w-16 h-16 rounded-[2rem] overflow-hidden hover:rounded-2xl transition-[border-radius] duration-250 ease-in-out cursor-pointer border-gray-800 border-4",{"border-teal-500 rounded-2xl":B===r.value}])},[e("img",{src:x.image+"?size=128",alt:(I=x.destination)==null?void 0:I.name,class:"object-cover w-full scale-125",onClick:G=>r.value=B,onMouseover:G=>o(x.image)},null,40,_e)],2)}),128))])]),w[0]||(w[0]=e("div",{class:"bg-gray-900/90 fixed inset-0 z-40"},null,-1))],64)}}}),ke=(c,s)=>{const t=["january","february","march","april","may","june","july","august","september","october","november","december"];if(c=c.toLowerCase(),s=s.toLowerCase(),t.indexOf(c)===-1||t.indexOf(s)===-1)throw new Error("Invalid month name");return t.indexOf(c)-t.indexOf(s)},$e={class:"bg-gray-50"},Ce={class:"relative min-h-screen flex flex-col items-center"},je={class:"relative w-full px-6 max-w-7xl"},Se={class:"py-2 text-center"},Be={class:"mt-2"},Me={class:"mb-6"},Ee={class:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 auto-rows-auto grid-flow-dense"},Ge=S({__name:"Home",props:{contestants:{}},setup(c){const s=c,t=V(()=>{if(!s.contestants.data)return[];if(!h.value)return s.contestants.data;const i=h.value.toLowerCase();return s.contestants.data.filter(o=>{var n,a,l;if((n=o.nickname)!=null&&n.toLowerCase().includes(i)||(a=o.username)!=null&&a.toLowerCase().includes(i)||(l=o.discord_id)!=null&&l.toString().includes(i))return!0})}),y=(i,o)=>{if(i.submissions){if(o){const n=i.submissions.findIndex(a=>a.id===o.id);n!==-1&&(r.value=n)}u.value=i,f.value=!0}},f=g(!1),u=g(null),r=g(0),h=g("");return(i,o)=>{var n;return d(),m(C,null,[p(_(Z),{title:"Submissions"}),e("div",$e,[e("div",Ce,[e("div",je,[e("header",Se,[p(U,{class:"max-h-64 mx-auto"})]),e("main",Be,[e("div",Me,[p(K,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=a=>h.value=a),placeholder:"Search by nickname, username, or Discord ID",class:"w-full"},null,8,["modelValue"])]),e("div",Ee,[(d(!0),m(C,null,E(t.value,a=>(d(),M(me,{key:a.id,nickname:a.nickname,username:a.username,avatar:a.avatar,submissions:a.submissions,onShowGallery:l=>y(a,l)},null,8,["nickname","username","avatar","submissions","onShowGallery"]))),128))])]),o[2]||(o[2]=T('<footer class="py-16 text-center text-sm text-black"> Built with <a href="https://vuejs.org/" class="text-teal-600 font-bold">Vue</a>, <a href="https://laravel.com/" class="text-red-400 font-bold">Laravel</a> and <a href="https://tailwindcss.com/" class="text-blue-600 font-bold">Tailwind CSS</a> for <a href="https://discord.gg/Xvv2vPFKwr" class="text-indigo-600 font-bold">Wanderlust</a>. </footer>',1))])])]),f.value&&((n=u.value)!=null&&n.submissions)?(d(),M(ye,{key:0,submissions:u.value.submissions.sort((a,l)=>_(ke)(a.month,l.month)),start:r.value,title:u.value.nickname??u.value.username,onClose:o[1]||(o[1]=a=>f.value=!1)},null,8,["submissions","start","title"])):H("",!0)],64)}}});export{Ge as default};
