import{m as x,i as M}from"./app-BgzXHyT0.js";function p(n,e){if(n===e)return 0;if(n.length>e.length){const w=n;n=e,e=w}let t=n.length,s=e.length;for(;t>0&&n.charCodeAt(t-1)===e.charCodeAt(s-1);)t--,s--;let c=0;for(;c<t&&n.charCodeAt(c)===e.charCodeAt(c);)c++;if(t-=c,s-=c,t===0||s<3)return s;let o=0,r,l,a,u,m,i=0,d,f,A,g,k,_;const h=[];for(r=0;r<t;r++)h.push(r+1),h.push(n.charCodeAt(c+r));const v=h.length-1;for(;o<s-3;)for(A=e.charCodeAt(c+(l=o)),g=e.charCodeAt(c+(a=o+1)),k=e.charCodeAt(c+(u=o+2)),_=e.charCodeAt(c+(m=o+3)),i=o+=4,r=0;r<v;r+=2)d=h[r],f=h[r+1],l=C(d,l,a,A,f),a=C(l,a,u,g,f),u=C(a,u,m,k,f),i=C(u,m,i,_,f),h[r]=i,m=u,u=a,a=l,l=d;for(;o<s;)for(A=e.charCodeAt(c+(l=o)),i=++o,r=0;r<v;r+=2)d=h[r],h[r]=i=C(d,l,i,A,h[r+1]),l=d;return i}function C(n,e,t,s,c){return n<e||t<e?n>t?t+1:n+1:s===c?e:e+1}const L=(n="",e=[])=>{const t=x(n),s=x(e),c=M(()=>t.value?s.value.map(o=>D(o,t.value)).filter(Boolean).sort(y).map(o=>o==null?void 0:o.contestant):s.value);return{filter:t,contestants:s,filteredContestants:c}},y=(n,e)=>{if(!n||!e)return 0;let t=0,s=0;return n.matches.nickname!==null?t=n.matches.nickname:n.matches.username!==null?t=n.matches.username+2:n.matches.discord_id!==null&&(t=n.matches.discord_id+5),e.matches.nickname!==null?s=e.matches.nickname:e.matches.username!==null?s=e.matches.username+2:e.matches.discord_id!==null&&(s=e.matches.discord_id+5),t===s?0:t>s?1:-1},D=(n,e)=>{var d;const t=e.toLowerCase(),s=(d=n.nickname)==null?void 0:d.toLowerCase(),c=n.username.toLowerCase(),o=n.discord_id.toString(),r=s==null?void 0:s.includes(t),l=c.includes(t),a=o.includes(t);if(!r&&!l&&!a)return;const u=s&&r?p(s,t):null,m=c&&l?p(c,t):null,i=o&&a?p(o,t):null;return{matches:{nickname:u,username:m,discord_id:i},contestant:n}};export{L as u};
