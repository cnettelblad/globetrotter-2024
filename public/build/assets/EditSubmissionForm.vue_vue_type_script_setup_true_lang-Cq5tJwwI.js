import{d as v,C as S,g as r,b as o,a as e,u as i,w as d,T as V,f as x,o as u,e as y,h}from"./app-_oh0oqnp.js";import{a as c,_ as p}from"./InputLabel.vue_vue_type_script_setup_true_lang-CICnSt-i.js";import{_ as w,I as B}from"./CountryTypeahead.vue_vue_type_script_setup_true_lang-BbRywk--.js";import{G as C}from"./GradientButton-CiCTJ3vT.js";import{t as N}from"./toast-BZ9dvtal.js";const T={class:"grid md:grid-cols-1 md:gap-6"},k={class:"flex items-center justify-end gap-4"},E={key:0,class:"text-sm text-gray-600"},q=v({__name:"EditSubmissionForm",props:{submission:{}},emits:["success"],setup(g,{emit:f}){var m;const a=g,b=f,s=S({submission:a.submission.id,month:a.submission.month,destination:(m=a.submission.destination)==null?void 0:m.id,image:null}),_=()=>{console.log(s.data()),s.post(route("submissions.update",{submission:s.submission,_method:"put"}),{preserveScroll:!0,onSuccess:()=>{N.addToast("Submission updated","success"),b("success")},onError:()=>{console.log(s.errors)}})};return(l,t)=>(u(),r("section",null,[o("form",{onSubmit:x(_,["prevent"]),class:"mt-6 space-y-6"},[o("div",T,[o("div",null,[e(p,{for:"destination",value:"Destination",required:""}),e(w,{modelValue:i(s).destination,"onUpdate:modelValue":t[0]||(t[0]=n=>i(s).destination=n),"existing-destination":l.submission.destination,class:"w-full"},null,8,["modelValue","existing-destination"]),e(c,{message:i(s).errors.destination,class:"mt-2"},null,8,["message"])])]),o("div",null,[e(p,{for:"image",value:"Image"}),e(B,{modelValue:i(s).image,"onUpdate:modelValue":t[1]||(t[1]=n=>i(s).image=n),"existing-image":l.submission.image,class:"mt-1"},null,8,["modelValue","existing-image"]),e(c,{message:i(s).errors.image,class:"mt-2"},null,8,["message"])]),o("div",k,[e(C,{disabled:i(s).processing},{default:d(()=>t[2]||(t[2]=[y(" Save ")])),_:1},8,["disabled"]),e(V,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[i(s).recentlySuccessful?(u(),r("p",E," Saved. ")):h("",!0)]),_:1})])],32)]))}});export{q as _};
