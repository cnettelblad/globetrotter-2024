import{o as i,g as u,b as e,d as j,t as v,a as p,w as V,e as C,n as w,u as x,i as M,k as g,h as I,j as A,B as G,F as $,q as E,c as B,l as N,D,p as z,E as O,G as F,m as J}from"./app-DulBm_hC.js";import{E as H}from"./Emoji-C7YAvNKW.js";import{_ as T}from"./TextInput.vue_vue_type_script_setup_true_lang-CFZ1c5NV.js";import{A as Z}from"./ApplicationLogo-BdNvq1gv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function K(d,t){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function U(d,t){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function q(d,t){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function P(d,t){return i(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const R={class:"flex items-center justify-between py-4 pl-3 pr-4 text-sm relative group"},W={class:"absolute text-gray-500 transform -translate-y-5 scale-75 top-2 z-10 origin-[0] bg-gray-50 px-2 peer-placeholder-shown:scale-100 start-1"},X={class:"px-4 flex-shrink-0 flex justify-between w-full gap-2 max-w-full font-medium"},Q=j({__name:"SubmissionItem",props:{month:{},destination:{}},setup(d){return(t,n)=>(i(),u("li",R,[e("span",W,v(t.month),1),e("div",X,[e("p",null,[p(H,null,{default:V(()=>[C(v(t.destination?t.destination.emoji:"ðŸ³ï¸"),1)]),_:1})]),e("p",{class:w(["font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",{"text-gray-900":t.destination,"text-gray-400":!t.destination}])},v(t.destination?t.destination.name:"-"),3),e("p",{class:w(["invisible",{"group-hover:visible":t.destination}])},[p(x(q),{class:"h-5 w-5 text-green-800 inline-block"})],2)])]))}}),Y={class:"relative bg-white shadow overflow-hidden sm:rounded-lg"},ee={class:"flex flex-row items-center px-4 py-5 sm:px-6 relative"},se=["src"],te={class:"px-4 py-5 sm:px-6 overflow-hidden"},ne={class:"text-lg font-medium leading-6 truncate text-gray-900"},oe={key:0,class:"mt-1 max-w-2xl text-sm text-gray-500 truncate"},ae={class:"absolute top-1 right-2"},le={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 bg-sky-900 text-gray-100"},re={class:"border-t border-gray-200"},ie={class:"text-sm text-gray-900 sm:col-span-2"},de={role:"list",class:"divide-y divide-gray-200 rounded-md border border-gray-200 mx-4"},ce=j({__name:"SubmissionCard",props:{nickname:{},username:{},avatar:{},submissions:{}},emits:["showGallery"],setup(d,{emit:t}){const n=d,b=["January","February","March","April","May","June","July","August","September","October","November","December"],f=M(()=>b.map(h=>{var o;const r=(o=n.submissions)==null?void 0:o.find(a=>a.month===h);return{month:h,submission:r}})),c=g(!1),l=t;return(h,r)=>{var o;return i(),u("div",{class:w(["transition",c.value?"row-span-4":null])},[e("div",Y,[e("div",ee,[e("img",{src:n.avatar,alt:"",class:"h-16 w-16 my-4 rounded-full ring-1 ring-gray-900"},null,8,se),e("div",te,[e("h3",ne,v(n.nickname??n.username),1),n.nickname?(i(),u("p",oe,v(n.username),1)):I("",!0)]),e("div",ae,[e("span",le,v(((o=n.submissions)==null?void 0:o.length)??0)+" / 12 ",1)])]),e("div",re,[e("dl",null,[e("div",{class:w(["bg-gray-50",c.value?"pb-4":null])},[e("button",{onClick:r[0]||(r[0]=a=>c.value=!c.value),class:"text-sm font-medium w-full py-5 text-gray-500 cursor-pointer"},v(c.value?"- Hide":"+ Show")+" Submissions ",1),e("dd",ie,[A(e("ul",de,[(i(!0),u($,null,E(f.value,a=>{var s;return i(),B(Q,{month:a.month,destination:(s=a.submission)==null?void 0:s.destination,key:a.month,class:w({"cursor-pointer":a.submission}),onClick:m=>a.submission?l("showGallery",a.submission):null},null,8,["month","destination","class","onClick"])}),128))],512),[[G,c.value]])])],2)])])])],2)}}}),ue={class:"flex flex-col overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-screen max-h-screen"},me={class:"grid grid-cols-6 w-full",id:"gallery-header"},he={class:"col-start-2 col-span-4 text-white p-4 w-full text-center whitespace-nowrap overflow-hidden overflow-ellipsis"},ve={class:"text-4xl font-bold"},pe={class:"flex w-full h-full justify-between"},fe={class:"w-full h-full grid place-items-center"},ge=["src","alt"],we={id:"gallery-footer",class:"w-full grid place-items-center grid-cols-6 md:grid-cols-12 gap-2 p-2 bg-gray-800/50"},xe=["src","alt","onClick"],be=j({__name:"GalleryModal",props:{submissions:{},title:{},start:{}},emits:["close"],setup(d,{emit:t}){const n=d,b=t,f=()=>{b("close")},c=s=>{switch(s.key){case"Escape":f();break;case"ArrowLeft":h();break;case"ArrowRight":r();break}},l=g(n.start??0),h=()=>{l.value=(l.value-1+n.submissions.length)%n.submissions.length},r=()=>{l.value=(l.value+1)%n.submissions.length},o=g("100vh"),a=()=>{var _,y;const s=((_=document.getElementById("gallery-header"))==null?void 0:_.clientHeight)||0,m=((y=document.getElementById("gallery-footer"))==null?void 0:y.clientHeight)||0;o.value=`calc(100vh - ${s+m}px)`};return N(()=>{document.addEventListener("keydown",c),D(()=>a()),document.body.style.overflow="hidden"}),z(()=>{document.removeEventListener("keydown",c),document.body.style.overflow=""}),(s,m)=>{var _,y;return i(),u($,null,[e("div",ue,[e("div",me,[e("div",he,[e("h2",ve,v(s.title),1),e("span",null,[C(v((_=s.submissions[l.value].destination)==null?void 0:_.name)+" ",1),p(H,null,{default:V(()=>{var k;return[C(v((k=s.submissions[l.value].destination)==null?void 0:k.emoji),1)]}),_:1}),C(" in "+v(s.submissions[l.value].month),1)])]),e("button",{class:"text-gray-200 place-self-end self-start p4",onClick:f,"aria-label":"Close"},[p(x(P),{class:"w-16 h-16"})])]),e("div",pe,[e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:h},[p(x(K),{class:"h-12 w-12 max-w-[10vw]"})]),e("div",fe,[e("img",{src:n.submissions[l.value].image,alt:(y=n.submissions[l.value].destination)==null?void 0:y.name,class:"max-w-full p-4",style:O({maxHeight:o.value})},null,12,ge)]),e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:r},[p(x(U),{class:"h-12 w-12 max-w-[10vw]"})])]),e("div",we,[(i(!0),u($,null,E(n.submissions,(k,S)=>{var L;return i(),u("div",{key:S,class:w(["w-16 h-16 rounded-[2rem] overflow-hidden hover:rounded-2xl transition-[border-radius] duration-250 ease-in-out cursor-pointer border-gray-800 border-4",{"border-teal-500 rounded-2xl":S===l.value}])},[e("img",{src:k.image,alt:(L=k.destination)==null?void 0:L.name,class:"object-cover w-full h-full scale-125",onClick:Ee=>l.value=S},null,8,xe)],2)}),128))])]),m[0]||(m[0]=e("div",{class:"bg-gray-900/90 fixed inset-0 z-40"},null,-1))],64)}}}),_e=(d,t)=>{const n=["january","february","march","april","may","june","july","august","september","october","november","december"];if(d=d.toLowerCase(),t=t.toLowerCase(),n.indexOf(d)===-1||n.indexOf(t)===-1)throw new Error("Invalid month name");return n.indexOf(d)-n.indexOf(t)},ye={class:"bg-gray-50"},ke={class:"relative min-h-screen flex flex-col items-center"},$e={class:"relative w-full px-6 max-w-7xl"},Ce={class:"py-2 text-center"},je={class:"mt-2"},Se={class:"mb-6"},Be={class:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 auto-rows-auto grid-flow-dense"},Ae=j({__name:"Home",props:{contestants:{}},setup(d){const t=d,n=M(()=>{if(!t.contestants.data)return[];if(!h.value)return t.contestants.data;const r=h.value.toLowerCase();return t.contestants.data.filter(o=>{var a,s,m;if((a=o.nickname)!=null&&a.toLowerCase().includes(r)||(s=o.username)!=null&&s.toLowerCase().includes(r)||(m=o.discord_id)!=null&&m.toString().includes(r))return!0})}),b=(r,o)=>{if(r.submissions){if(o){const a=r.submissions.findIndex(s=>s.id===o.id);a!==-1&&(l.value=a)}c.value=r,f.value=!0}},f=g(!1),c=g(null),l=g(0),h=g("");return(r,o)=>{var a;return i(),u($,null,[p(x(J),{title:"Submissions"}),e("div",ye,[e("div",ke,[e("div",$e,[e("header",Ce,[p(Z,{class:"max-h-64 mx-auto"})]),e("main",je,[e("div",Se,[p(T,{modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=s=>h.value=s),placeholder:"Search by nickname, username, or Discord ID",class:"w-full"},null,8,["modelValue"])]),e("div",Be,[(i(!0),u($,null,E(n.value,s=>(i(),B(ce,{key:s.id,nickname:s.nickname,username:s.username,avatar:s.avatar,submissions:s.submissions,onShowGallery:m=>b(s,m)},null,8,["nickname","username","avatar","submissions","onShowGallery"]))),128))])]),o[2]||(o[2]=F('<footer class="py-16 text-center text-sm text-black"> Built with <a href="https://vuejs.org/" class="text-teal-600 font-bold">Vue</a>, <a href="https://laravel.com/" class="text-red-400 font-bold">Laravel</a> and <a href="https://tailwindcss.com/" class="text-blue-600 font-bold">Tailwind CSS</a> for <a href="https://discord.gg/Xvv2vPFKwr" class="text-indigo-600 font-bold">Wanderlust</a>. </footer>',1))])])]),f.value&&((a=c.value)!=null&&a.submissions)?(i(),B(be,{key:0,submissions:c.value.submissions.sort((s,m)=>x(_e)(s.month,m.month)),start:l.value,title:c.value.nickname??c.value.username,onClose:o[1]||(o[1]=s=>f.value=!1)},null,8,["submissions","start","title"])):I("",!0)],64)}}});export{Ae as default};
