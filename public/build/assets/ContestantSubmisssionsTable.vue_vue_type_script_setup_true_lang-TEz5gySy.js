import{d as $,a as h,b,T as c,c as S}from"./TableActions.vue_vue_type_script_setup_true_lang-Cbbqj2YG.js";import{_ as E}from"./SubmissionActionsCell.vue_vue_type_script_setup_true_lang-D1IJzEHf.js";import{d as T,p as M,q as B,g as f,b as l,r as N,F as y,o as a,i as V,m as x,a as n,w as t,c as u,h as k,x as j,e as d,s as z,n as v,t as C}from"./app-EfI8tAPd.js";import{_ as A}from"./EditSubmissionForm.vue_vue_type_script_setup_true_lang-BhTCKo76.js";const F={class:"flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},J={class:"relative p-4 w-full max-w-md max-h-full"},L={class:"relative bg-white rounded-lg shadow"},D={class:"p-4 md:p-5 text-center"},H=T({__name:"GenericModal",emits:["close"],setup(_,{emit:p}){const g=p,i=()=>{g("close")},m=e=>{e.key==="Escape"&&i()};return M(()=>document.addEventListener("keydown",m)),B(()=>document.removeEventListener("keydown",m)),(e,s)=>(a(),f(y,null,[l("div",F,[l("div",J,[l("div",L,[l("button",{onClick:i,type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"popup-modal"},s[0]||(s[0]=[l("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)])),l("div",D,[N(e.$slots,"default")])])])]),s[1]||(s[1]=l("div",{class:"bg-gray-900/50 fixed inset-0 z-40"},null,-1))],64))}}),O={class:"overflow-x-auto"},q=["src"],K=T({__name:"ContestantSubmisssionsTable",props:{submissions:{}},setup(_){const p=_,g=V(()=>["January","February","March","April","May","June","July","August","September","October","November","December"].map(e=>{var o;const s=(o=p.submissions)==null?void 0:o.find(r=>r.month===e);return{name:e,submission:s}})),i=x(null);return x(null),(m,e)=>(a(),f(y,null,[l("div",O,[n($,null,{header:t(()=>[n(h,null,{default:t(()=>[n(b,null,{default:t(()=>e[2]||(e[2]=[d("Image")])),_:1}),n(b,null,{default:t(()=>e[3]||(e[3]=[d("Month")])),_:1}),n(b,null,{default:t(()=>e[4]||(e[4]=[d("Submission")])),_:1}),n(b,null,{default:t(()=>e[5]||(e[5]=[l("span",{class:"sr-only"},"Actions",-1)])),_:1})]),_:1})]),default:t(()=>[(a(!0),f(y,null,z(g.value,s=>(a(),u(S,{key:s.name,class:v(["border-b border-gray-200",{"bg-gray-50":!s.submission}])},{default:t(()=>[n(c,null,{default:t(()=>{var o,r,w;return[s.submission?(a(),f("img",{key:0,src:(o=s.submission)!=null&&o.image?"/image.svg":"/no-image.svg",alt:"Submission image status",class:v(["w-8 h-8",{"bg-red-100":!((r=s.submission)!=null&&r.image),"bg-green-100":(w=s.submission)==null?void 0:w.image}])},null,10,q)):k("",!0)]}),_:2},1024),n(c,{class:v({"line-through":!s.submission})},{default:t(()=>[d(C(s.name),1)]),_:2},1032,["class"]),n(c,null,{default:t(()=>{var o,r;return[d(C(((r=(o=s.submission)==null?void 0:o.destination)==null?void 0:r.name)??"No submission"),1)]}),_:2},1024),s.submission?(a(),u(E,{key:0,submission:s.submission,onEdit:o=>i.value=s.submission},null,8,["submission","onEdit"])):(a(),u(c,{key:1}))]),_:2},1032,["class"]))),128))]),_:1})]),(a(),u(j,{to:"body"},[i.value?(a(),u(H,{key:0,onClose:e[1]||(e[1]=s=>i.value=null)},{default:t(()=>[n(A,{submission:i.value,onSuccess:e[0]||(e[0]=s=>i.value=null)},null,8,["submission"])]),_:1})):k("",!0)]))],64))}});export{K as _};
