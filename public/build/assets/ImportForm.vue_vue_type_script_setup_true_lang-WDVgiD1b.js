import{d as f,E as _,G as v,k as y,g as l,b as s,t as x,h as g,F as V,o as c,C as S,a,u as o,e as p,w as d,T as b,f as C}from"./app-DTqmi5Mx.js";import{a as h,_ as k}from"./InputLabel.vue_vue_type_script_setup_true_lang-CQjhF8bx.js";import{P as F}from"./PrimaryButton-DnFLY9TC.js";const I=["accept"],N={key:0},$=f({__name:"FileInput",props:_({accept:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const t=v(i,"modelValue"),r=y(""),u=i,e=async n=>{const m=n.target;m.files&&(t.value=m.files[0])};return(n,m)=>(c(),l(V,null,[s("input",{class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none",onChange:e,ref:"input",type:"file",accept:u.accept},null,40,I),r.value?(c(),l("p",N,"Selected file: "+x(r.value),1)):g("",!0)],64))}}),w={class:"flex items-center gap-4"},B={key:0,class:"text-sm text-gray-600"},P=f({__name:"ImportForm",setup(i){const t=S({csv:null}),r=()=>{t.post(route("contestants.csv"),{preserveScroll:!0,onSuccess:()=>{t.reset()},onError:()=>{}})};return(u,e)=>(c(),l("section",null,[e[3]||(e[3]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900"}," Import Contestants "),s("p",{class:"mt-1 text-sm text-gray-600"}," Import contestants from a CSV file. ")],-1)),s("form",{onSubmit:C(r,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[a(k,{for:"csv",value:"File"}),a($,{modelValue:o(t).csv,"onUpdate:modelValue":e[0]||(e[0]=n=>o(t).csv=n),accept:".csv"},null,8,["modelValue"]),e[1]||(e[1]=s("p",{class:"mt-1 text-sm text-gray-500",id:"file_input_help"},[p(" Accepted file formats: "),s("strong",null,".csv")],-1)),a(h,{message:o(t).errors.csv,class:"mt-2"},null,8,["message"])]),s("div",w,[a(F,{disabled:o(t).processing},{default:d(()=>e[2]||(e[2]=[p(" Start import ")])),_:1},8,["disabled"]),a(b,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[o(t).recentlySuccessful?(c(),l("p",B," Import initiated ")):g("",!0)]),_:1})])],32)]))}});export{P as _};
