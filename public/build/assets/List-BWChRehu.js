import{t as C,_ as $}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BbaMWREh.js";import{d as x,o as r,c as f,w as s,a as n,b as e,u as h,k as T,e as u,q as S,s as B,g as b,F as g,m as k,p as M,h as _,t as y,x as D,Z as E}from"./app-BgzXHyT0.js";import{_ as j,T as c,a as N,b as m,c as V,d as L,e as z}from"./TableActions.vue_vue_type_script_setup_true_lang-Bl6sZzUh.js";import"./ApplicationLogo-CWuFB-ws.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"py-1 text-sm text-gray-700"},F={class:"py-1"},H=x({__name:"SubmissionActionsCell",props:{submission:{}},emits:["delete"],setup(p,{emit:a}){return(l,t)=>(r(),f(c,{class:"flex justify-end"},{default:s(()=>[n(j,null,{default:s(()=>[e("ul",A,[e("li",null,[n(h(T),{href:l.route("submissions.edit",l.submission.id),class:"block py-2 px-4 hover:bg-gray-100"},{default:s(()=>t[1]||(t[1]=[u(" Edit ")])),_:1},8,["href"])])]),e("div",F,[e("button",{onClick:t[0]||(t[0]=o=>l.$emit("delete",l.submission)),class:"block py-2 px-4 w-full text-left text-red-500 hover:bg-gray-100"}," Delete ")])]),_:1})]),_:1}))}}),U=x({__name:"SubmissionDeletionModal",props:{submission:{}},emits:["close"],setup(p,{emit:a}){const l=p,t=a,o=()=>{t("close"),C.addToast(`Submission ${l.submission.id} removed`)},d=()=>{t("close")},v=w=>{w.key==="Escape"&&d()};return S(()=>document.addEventListener("keydown",v)),B(()=>document.removeEventListener("keydown",v)),(w,i)=>(r(),b(g,null,[e("div",{class:"flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"},[e("div",{class:"relative p-4 w-full max-w-md max-h-full"},[e("div",{class:"relative bg-white rounded-lg shadow"},[e("button",{onClick:d,type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"popup-modal"},i[0]||(i[0]=[e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)])),e("div",{class:"p-4 md:p-5 text-center"},[i[1]||(i[1]=e("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),i[2]||(i[2]=e("h3",{class:"mb-5 text-lg font-normal text-gray-500"}," Are you sure you want to delete this submission? ",-1)),e("button",{onClick:o,type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, delete "),e("button",{onClick:d,type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"}," No, cancel ")])])])]),i[3]||(i[3]=e("div",{class:"bg-gray-900/50 fixed inset-0 z-40"},null,-1))],64))}}),Z={class:"overflow-x-auto"},q=x({__name:"SubmissionsTable",props:{submissions:{}},setup(p){const a=k(null);return(l,t)=>(r(),b(g,null,[e("div",Z,[n(z,null,{header:s(()=>[n(N,null,{default:s(()=>[n(m,null,{default:s(()=>t[1]||(t[1]=[u("Contestant")])),_:1}),n(m,null,{default:s(()=>t[2]||(t[2]=[u("Month")])),_:1}),n(m,null,{default:s(()=>t[3]||(t[3]=[u("Destination")])),_:1}),n(m,null,{default:s(()=>t[4]||(t[4]=[u("Image")])),_:1}),n(m,null,{default:s(()=>t[5]||(t[5]=[e("span",{class:"sr-only"},"Actions",-1)])),_:1})]),_:1})]),default:s(()=>[(r(!0),b(g,null,M(l.submissions,o=>(r(),f(L,{key:o.id,class:"border-b border-gray-200"},{default:s(()=>[o.contestant?(r(),f(V,{key:0,contestant:o.contestant},null,8,["contestant"])):_("",!0),n(c,null,{default:s(()=>[u(y(o.month),1)]),_:2},1024),n(c,null,{default:s(()=>{var d;return[u(y(((d=o.destination)==null?void 0:d.name)??"Unknown"),1)]}),_:2},1024),n(c,null,{default:s(()=>[u(y(o.image?"✅":"❌"),1)]),_:2},1024),n(H,{submission:o,onDelete:d=>a.value=o},null,8,["submission","onDelete"])]),_:2},1024))),128))]),_:1})]),(r(),f(D,{to:"body"},[a.value?(r(),f(U,{key:0,submission:a.value,onClose:t[0]||(t[0]=o=>a.value=null)},null,8,["submission"])):_("",!0)]))],64))}}),I={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},P={class:"relative bg-white overflow-x-auto shadow-md sm:rounded-lg"},Q=x({__name:"List",props:{submissions:{}},emits:["select"],setup(p){return k(null),(a,l)=>(r(),b(g,null,[n(h(E),{title:"Profile"}),n($,null,{header:s(()=>l[0]||(l[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Contestants ",-1)])),default:s(()=>[e("div",I,[e("div",O,[e("div",P,[n(q,{submissions:a.submissions},null,8,["submissions"])])])])]),_:1})],64))}});export{Q as default};
