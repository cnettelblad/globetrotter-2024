import{d as f,A as _,B as v,m as y,g as n,b as s,t as x,h as g,F as V,o as i,T as S,a,u as o,e as p,w as d,l as b,f as C}from"./app-BgzXHyT0.js";import{a as h,_ as F}from"./InputLabel.vue_vue_type_script_setup_true_lang-LXHF5S7j.js";import{P as k}from"./PrimaryButton-ByWfOpmU.js";const B=["accept"],I={key:0},N=f({__name:"FileInput",props:_({accept:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const t=v(c,"modelValue"),r=y(""),u=c,e=async l=>{const m=l.target;m.files&&(t.value=m.files[0])};return(l,m)=>(i(),n(V,null,[s("input",{class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none",onChange:e,ref:"input",type:"file",accept:u.accept},null,40,B),r.value?(i(),n("p",I,"Selected file: "+x(r.value),1)):g("",!0)],64))}}),$={class:"flex items-center gap-4"},w={key:0,class:"text-sm text-gray-600"},E=f({__name:"ImportForm",setup(c){const t=S({csv:null}),r=()=>{t.post(route("contestants.import"),{preserveScroll:!0,onSuccess:()=>{t.reset()},onError:()=>{}})};return(u,e)=>(i(),n("section",null,[e[3]||(e[3]=s("header",null,[s("h2",{class:"text-lg font-medium text-gray-900"}," Import Contestants "),s("p",{class:"mt-1 text-sm text-gray-600"}," Import contestants from a CSV file. ")],-1)),s("form",{onSubmit:C(r,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[a(F,{for:"csv",value:"File"}),a(N,{modelValue:o(t).csv,"onUpdate:modelValue":e[0]||(e[0]=l=>o(t).csv=l),accept:".csv"},null,8,["modelValue"]),e[1]||(e[1]=s("p",{class:"mt-1 text-sm text-gray-500",id:"file_input_help"},[p(" Accepted file formats: "),s("strong",null,".csv")],-1)),a(h,{message:o(t).errors.csv,class:"mt-2"},null,8,["message"])]),s("div",$,[a(k,{disabled:o(t).processing},{default:d(()=>e[2]||(e[2]=[p(" Start import ")])),_:1},8,["disabled"]),a(b,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[o(t).recentlySuccessful?(i(),n("p",w," Import initiated ")):g("",!0)]),_:1})])],32)]))}});export{E as _};
