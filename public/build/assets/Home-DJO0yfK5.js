import{o as r,g as d,b as e,d as $,t as p,a as f,w as L,e as M,n as w,u as y,i as V,k as g,h as E,j as H,B as I,F as k,q as j,c as S,l as A,D as G,p as D,E as N,G as z,m as F}from"./app-_oh0oqnp.js";import{E as J}from"./Emoji-Zl6D-89D.js";import{_ as T}from"./TextInput.vue_vue_type_script_setup_true_lang-DBAzF7ey.js";import{A as Z}from"./ApplicationLogo-CFV0v4JW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function K(m,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function U(m,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function q(m,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function O(m,o){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const P={class:"flex items-center justify-between py-4 pl-3 pr-4 text-sm relative group"},R={class:"absolute text-gray-500 transform -translate-y-5 scale-75 top-2 z-10 origin-[0] bg-gray-50 px-2 peer-placeholder-shown:scale-100 start-1"},W={class:"px-4 flex-shrink-0 flex justify-between w-full gap-2 max-w-full font-medium"},X=$({__name:"SubmissionItem",props:{month:{},destination:{}},setup(m){return(o,a)=>(r(),d("li",P,[e("span",R,p(o.month),1),e("div",W,[e("p",null,[f(J,null,{default:L(()=>[M(p(o.destination?o.destination.emoji:"🏳️"),1)]),_:1})]),e("p",{class:w(["font-medium overflow-hidden overflow-ellipsis whitespace-nowrap",{"text-gray-900":o.destination,"text-gray-400":!o.destination}])},p(o.destination?o.destination.name:"-"),3),e("p",{class:w(["invisible",{"group-hover:visible":o.destination}])},[f(y(q),{class:"h-5 w-5 text-green-800 inline-block"})],2)])]))}}),Q={class:"relative bg-white shadow overflow-hidden sm:rounded-lg"},Y={class:"flex flex-row items-center px-4 py-5 sm:px-6 relative"},ee=["src"],se={class:"px-4 py-5 sm:px-6 overflow-hidden"},te={class:"text-lg font-medium leading-6 truncate text-gray-900"},oe={key:0,class:"mt-1 max-w-2xl text-sm text-gray-500 truncate"},ne={class:"absolute top-1 right-2"},ae={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 bg-sky-900 text-gray-100"},le={class:"border-t border-gray-200"},re={class:"text-sm text-gray-900 sm:col-span-2"},ie={role:"list",class:"divide-y divide-gray-200 rounded-md border border-gray-200 mx-4"},ce=$({__name:"SubmissionCard",props:{nickname:{},username:{},avatar:{},submissions:{}},emits:["showGallery"],setup(m,{emit:o}){const a=m,x=["January","February","March","April","May","June","July","August","September","October","November","December"],v=V(()=>x.map(u=>{var t;const l=(t=a.submissions)==null?void 0:t.find(n=>n.month===u);return{month:u,submission:l}})),i=g(!1),c=o;return(u,l)=>{var t;return r(),d("div",{class:w(["transition",i.value?"row-span-4":null])},[e("div",Q,[e("div",Y,[e("img",{src:a.avatar,alt:"",class:"h-16 w-16 my-4 rounded-full ring-1 ring-gray-900"},null,8,ee),e("div",se,[e("h3",te,p(a.nickname??a.username),1),a.nickname?(r(),d("p",oe,p(a.username),1)):E("",!0)]),e("div",ne,[e("span",ae,p(((t=a.submissions)==null?void 0:t.length)??0)+" / 12 ",1)])]),e("div",le,[e("dl",null,[e("div",{class:w(["bg-gray-50",i.value?"pb-4":null])},[e("button",{onClick:l[0]||(l[0]=n=>i.value=!i.value),class:"text-sm font-medium w-full py-5 text-gray-500 cursor-pointer"},p(i.value?"- Hide":"+ Show")+" Submissions ",1),e("dd",re,[H(e("ul",ie,[(r(!0),d(k,null,j(v.value,n=>{var s;return r(),S(X,{month:n.month,destination:(s=n.submission)==null?void 0:s.destination,key:n.month,class:w({"cursor-pointer":n.submission}),onClick:h=>n.submission?c("showGallery",n.submission):null},null,8,["month","destination","class","onClick"])}),128))],512),[[I,i.value]])])],2)])])])],2)}}}),de={class:"flex flex-col overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-screen max-h-screen"},ue={class:"grid grid-cols-6 w-full",id:"gallery-header"},me={class:"text-4xl font-bold col-start-2 bg-gray-800 col-span-4 text-white p-4 w-full text-center whitespace-nowrap overflow-hidden overflow-ellipsis"},he={class:"flex w-full h-full justify-between"},ve={class:"w-full h-full grid place-items-center"},pe=["src","alt"],fe={id:"gallery-footer",class:"w-full grid place-items-center grid-cols-6 md:grid-cols-12 gap-2 p-2 bg-gray-800/50"},ge=["src","alt","onClick"],we=$({__name:"GalleryModal",props:{submissions:{},title:{},start:{}},emits:["close"],setup(m,{emit:o}){const a=m,x=o,v=()=>{x("close")},i=s=>{switch(s.key){case"Escape":v();break;case"ArrowLeft":u();break;case"ArrowRight":l();break}},c=g(a.start??0),u=()=>{c.value=(c.value-1+a.submissions.length)%a.submissions.length},l=()=>{c.value=(c.value+1)%a.submissions.length},t=g("100vh"),n=()=>{var b,_;const s=((b=document.getElementById("gallery-header"))==null?void 0:b.clientHeight)||0,h=((_=document.getElementById("gallery-footer"))==null?void 0:_.clientHeight)||0;t.value=`calc(100vh - ${s+h}px)`};return A(()=>{document.addEventListener("keydown",i),G(()=>n()),document.body.style.overflow="hidden"}),D(()=>{document.removeEventListener("keydown",i),document.body.style.overflow=""}),(s,h)=>{var b;return r(),d(k,null,[e("div",de,[e("div",ue,[e("h2",me,p(s.title),1),e("button",{class:"text-gray-200 place-self-end",onClick:v,"aria-label":"Close"},[f(y(O),{class:"w-16 h-16"})])]),e("div",he,[e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:u},[f(y(K),{class:"h-12 w-12 max-w-[10vw]"})]),e("div",ve,[e("img",{src:a.submissions[c.value].image,alt:(b=a.submissions[c.value].destination)==null?void 0:b.name,class:"max-w-full p-4",style:N({maxHeight:t.value})},null,12,pe)]),e("button",{class:"text-white py-32 px-4 hover:bg-black/50",onClick:l},[f(y(U),{class:"h-12 w-12 max-w-[10vw]"})])]),e("div",fe,[(r(!0),d(k,null,j(a.submissions,(_,C)=>{var B;return r(),d("div",{key:C,class:w(["w-16 h-16 rounded-[2rem] overflow-hidden hover:rounded-2xl transition-[border-radius] duration-250 ease-in-out cursor-pointer border-gray-800 border-4",{"border-teal-500 rounded-2xl":C===c.value}])},[e("img",{src:_.image,alt:(B=_.destination)==null?void 0:B.name,class:"object-cover w-full h-full scale-125",onClick:Se=>c.value=C},null,8,ge)],2)}),128))])]),h[0]||(h[0]=e("div",{class:"bg-gray-900/50 fixed inset-0 z-40"},null,-1))],64)}}}),xe={class:"bg-gray-50"},be={class:"relative min-h-screen flex flex-col items-center"},_e={class:"relative w-full px-6 max-w-7xl"},ye={class:"py-2 text-center"},ke={class:"mt-2"},$e={class:"mb-6"},Ce={class:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 auto-rows-auto grid-flow-dense"},Me=$({__name:"Home",props:{contestants:{}},setup(m){const o=m,a=V(()=>{if(!o.contestants.data)return[];if(!u.value)return o.contestants.data;const l=u.value.toLowerCase();return o.contestants.data.filter(t=>{var n,s,h;if((n=t.nickname)!=null&&n.toLowerCase().includes(l)||(s=t.username)!=null&&s.toLowerCase().includes(l)||(h=t.discord_id)!=null&&h.toString().includes(l))return!0})}),x=(l,t)=>{if(l.submissions){if(t){const n=l.submissions.findIndex(s=>s.id===t.id);n!==-1&&(c.value=n)}i.value=l,v.value=!0}},v=g(!1),i=g(null),c=g(0),u=g("");return(l,t)=>{var n;return r(),d(k,null,[f(y(F),{title:"Submissions"}),e("div",xe,[e("div",be,[e("div",_e,[e("header",ye,[f(Z,{class:"max-h-64 mx-auto"})]),e("main",ke,[e("div",$e,[f(T,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),placeholder:"Search by nickname, username, or Discord ID",class:"w-full"},null,8,["modelValue"])]),e("div",Ce,[(r(!0),d(k,null,j(a.value,s=>(r(),S(ce,{key:s.id,nickname:s.nickname,username:s.username,avatar:s.avatar,submissions:s.submissions,onShowGallery:h=>x(s,h)},null,8,["nickname","username","avatar","submissions","onShowGallery"]))),128))])]),t[2]||(t[2]=z('<footer class="py-16 text-center text-sm text-black"> Built with <a href="https://vuejs.org/" class="text-teal-600 font-bold">Vue</a>, <a href="https://laravel.com/" class="text-red-400 font-bold">Laravel</a> and <a href="https://tailwindcss.com/" class="text-blue-600 font-bold">Tailwind CSS</a> for <a href="https://discord.gg/Xvv2vPFKwr" class="text-indigo-600 font-bold">Wanderlust</a>. </footer>',1))])])]),v.value&&((n=i.value)!=null&&n.submissions)?(r(),S(we,{key:0,submissions:i.value.submissions,start:c.value,title:i.value.nickname??i.value.username,onClose:t[1]||(t[1]=s=>v.value=!1)},null,8,["submissions","start","title"])):E("",!0)],64)}}});export{Me as default};
